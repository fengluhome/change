/*! app 2015-03-09 */
!function(a){var b={};String.prototype.Contains=function(a,b){return b?this.toLowerCase().indexOf(a.toLowerCase()):-1!==this.indexOf(a)},String.prototype.StartsWith=function(a,b){var c=this.substr(0,a.length);return b?c.toLowerCase()===a.toLowerCase():c===a},String.prototype.EndsWith=function(a,b){var c=this.substring(this.length-a.length);return b?c.toLowerCase()===a.toLowerCase():c===a},String.prototype.Repeat=function(a){for(var b=this,c="";a>0&&(a%2===1&&(c+=b),1!==a);)b+=b,a>>=1;return c},String.prototype.ByteLen=function(){for(var a=this.length,b=0;b<this.length;b++)this.charCodeAt(b)>255&&a++;return a},String.prototype.Truncate=function(a,b){return a=a||30,b=void 0===b?"...":b,this.length>a?this.slice(0,a-b.length)+b:this},String.prototype.StripTags=function(){return this.replace(/<[^>]+>/g,"")},String.prototype.StripScripts=function(){return this.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")},String.prototype.EscapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},String.prototype.UnescapeHTML=function(){return this.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&#([\d]+);/g,function(a,b){return String.fromCharCode(parseInt(b,10))})},String.prototype.Pad=function(a,b,c,d){var e=this.toString(d||10);for(b=b||"0";e.length<a;)c?e+=b:e=b+e;return e},b.Format=function(a,b){var c=Array.prototype.slice.call(arguments,1);return a.replace(/\\?\#{([^{}]+)\}/gm,function(a,d){if("\\"===a.charAt(0))return a.slice(1);var e=Number(d);return e>=0?c[e]:b&&void 0!==b[d]?b[d]:""})},String.prototype.Trim=function(){for(var a=" \n\r	\f            ​\u2028\u2029　",b=this,c=0;c<b.length;c++)if(-1===a.indexOf(b.charAt(c))){b=b.substring(c);break}for(c=b.length-1;c>=0;c--)if(-1===a.indexOf(b.charAt(c))){b=b.substring(0,c+1);break}return-1===a.indexOf(b.charAt(0))?b:""},Array.prototype.Contains=function(a){return this.indexOf(a)>-1},Array.prototype.Unique=function(){var a=[];a:for(var b=0,c=this.length;c>b;b++){for(var d=b+1;c>d;d++)if(this[d]===this[b])continue a;a.push(this[b])}return a},Array.prototype.Pluck=function(a){var b,c=[];return this.forEach(function(d){b=d[a],null!=b&&c.push(b)}),c},Array.prototype.GroupBy=function(a){var b={},c="function"==typeof a?a:function(b){return b[a]};return this.forEach(function(a,d){var e=c(a,d);(b[e]||(b[e]=[])).push(a)}),b},Array.prototype.SortBy=function(a,b){var c=this.map(function(c,d){return{el:c,re:a.cache(b,c,d)}}).sort(function(a,b){var c=a.re,d=b.re;return d>c?-1:c>d?1:0});return c.pluck("el")},Array.prototype.Union=function(a){return this.concat(a).unique()},Array.prototype.Intersect=function(a){return this.filter(function(b){return~a.indexOf(b)})},Array.prototype.Diff=function(a){for(var b=this.slice(),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)if(b[c]===a[d]){b.splice(c,1),c--;break}return b},Array.prototype.Min=function(){return Math.min.apply(0,this)},Array.prototype.Max=function(){return Math.max.apply(0,this)},Array.prototype.Copy=function(){return JSON.parse(JSON.stringify(this))},b.Copy=function(a){return a.isArray()?a.Copy():JSON.parse(JSON.stringify(a))},"1"!==parseFloat(.9).toFixed(0)&&(Number.prototype.ToFixed=function(a){var b=Math.pow(10,a),c=(Math.round(this*b)/b).toString();if(0===a)return c;c.indexOf(".")<0&&(c+=".");for(var d=a+1-(c.length-c.indexOf(".")),e=0;d>e;e++)c+="0";return c}),Date.prototype.AddDays=function(a){var b=new Date(this);return b.setDate(this.getDate()+a),b},Date.prototype.AddWeeks=function(a){return this.addDays(7*a)},Date.prototype.AddMonths=function(a){var b=new Date(this),c=this.getDate();return b.setMonth(this.getMonth()+a),b.getDate()<c&&b.setDate(0),b},Date.prototype.AddYears=function(a){var b=new Date(this),c=this.getMonth();return b.setFullYear(this.getFullYear()+a),c<b.getMonth()&&b.setDate(0),b},Date.prototype.Compare=function(a){var b=this-a;return 0===b?0:0>b?-1:1},Date.prototype.GetDatePeriod=function(a){return Math.abs(1*this-1*a)/60/60/1e3/24},Date.prototype.GetFirstDateInQuarter=function(){return new Date(this.getFullYear(),3*~~(this.getMonth()/3),1)},Date.prototype.GetLastDateInQuarter=function(){return new Date(this.getFullYear(),3*~~(this.getMonth()/3)+3,0)},Date.prototype.IsLeapYear=function(){return 29===new Date(this.getFullYear(),2,0).getDate()},Date.prototype.Date=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())},Date.prototype.GetDaysInMonth=function(){switch(this.getMonth()){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:var a=this.getFullYear();return a%4===0&&a%100!==0||a%400===0?29:28;default:return 30}},Function.prototype.Bind=function(a){if(arguments.length<2&&void 0===a)return this;var b=this,c=[].slice.call(arguments,1);return function(){b.apply(a,c.concat.apply(c,arguments))}},Date.prototype.Format=function(a){function c(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function d(a,b,d,e){return function(f){var g=f["get"+a]();return(d>0||g>-d)&&(g+=d),0===g&&-12===d&&(g=12),c(g,b,e)}}function e(a,b){return function(c,d){var e=c["get"+a](),f=(b?"SHORT"+a:a).toUpperCase();return d[f][e]}}function f(a){var b=-1*a.getTimezoneOffset(),d=b>=0?"+":"";return d+=c(Math[b>0?"floor":"ceil"](b/60),2)+c(Math.abs(b%60),2)}function g(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function h(a){var b=a.match(l);if(b){var c=new Date(0),d=0,e=0,f=b[8]?c.setUTCFullYear:c.setFullYear,g=b[8]?c.setUTCHours:c.setHours;return b[9]&&(d=parseInt(b[9]+b[10]),e=parseInt(b[9]+b[11])),f.call(c,parseInt(b[1]),parseInt(b[2])-1,parseInt(b[3])),g.call(c,parseInt(b[4]||0)-d,parseInt(b[5]||0)-e,parseInt(b[6]||0),parseInt(b[7]||0)),c}return a}var i={yyyy:d("FullYear",4),yy:d("FullYear",2,0,!0),y:d("FullYear",1),MMMM:e("Month"),MMM:e("Month",!0),MM:d("Month",2,1),M:d("Month",1,1),dd:d("Date",2),d:d("Date",1),HH:d("Hours",2),H:d("Hours",1),hh:d("Hours",2,-12),h:d("Hours",1,-12),mm:d("Minutes",2),m:d("Minutes",1),ss:d("Seconds",2),s:d("Seconds",1),sss:d("Milliseconds",3),EEEE:e("Day"),EEE:e("Day",!0),a:g,Z:f},j=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,k=/^\d+$/,l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c){var d,e,f=this,g="",l=[];if(c=c||"mediumDate",c=a[c]||c,"string"==typeof f&&(f=k.test(f)?parseInt(f):h(f)),"Number"===b.Type(f)&&(f=new Date(f)),"Date"===b.Type(f)){for(;c;)e=j.exec(c),e?(l=l.concat(e.slice(1)),c=l.pop()):(l.push(c),c=null);return l.forEach(function(b){d=i[b],g+=d?d(f,a):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}}({AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},SHORTMONTH:{0:"一月",1:"二月",2:"三月",3:"四月",4:"五月",5:"六月",6:"七月",7:"八月",8:"九月",9:"十月",10:"十一月",11:"十二月"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d ah:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"ah:mm:ss","short":"yy-M-d ah:mm",shortDate:"yyyy-MM-dd",shortTime:"hh:mm"}),b.LoadScript=function(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.body.appendChild(b)},b.LoadStyle=function(a){var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.href=a;document.getElementsByTagName("head")[0];document.body.appendChild(b)},b.Type=function(a){return null===a?"Null":void 0===a?"Undefined":Object.prototype.toString.call(a).slice(8,-1)},b.Literal={transform:function(){var a=["Webkit","Moz","O","ms"],b=document.createElement("div").style;for(p in a)if(void 0!==b[a[p]+"Transform"])return a[p]+"Transform";return""}()},b.GetUrlParam=function(){var a=location.search.length>0?location.search.substring(1):"",b={},c=a.length?a.split("&"):[],d=null,e=null,f=null,g=0,h=c.length;for(g=0;h>g;g++)d=c[g].split("="),e=decodeURIComponent(d[0]),f=decodeURIComponent(d[1]),e.length&&(b[e]=f);return b},b.CookieUtil={get:function(a){var b=encodeURIComponent(a)+"=",c=document.cookie.indexOf(b),d=null;if(c>-1){var e=document.cookie.indexOf(";",c);-1===e&&(e=document.cookie.length),d=decodeURIComponent(document.cookie.substring(c+b.length,e))}return d},set:function(a,b,c,d,e,f){var g=encodeURIComponent(a)+"="+encodeURIComponent(b);c instanceof Date&&(g+="; expries="+c.toGMTString()),d&&(g+="; path="+d),e&&(g+="; domain="+e),f&&(g+="; secure"),document.cookie=g},del:function(a){var b=new Date;b.setTime(b.getTime()-1e4),document.cookie=a+"=; expires="+b.toGMTString()}},b.Guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)}).toUpperCase()};var c=function(a,b){return encodeURIComponent(String(a))+"="+encodeURIComponent(String(b))};b.ToQueryString=function(a){var b=[];for(var d in a)b.push(c(d,a[d]));return b.join("&")},b.SetLocationUrl=function(b){var c=shengyan.GetUrlParam(),d=a.location.href,e=d.indexOf("?"),f=e>0?d.substring(0,e):d;for(var g in b)c[g]=b[g];f+="?"+shengyan.ToQueryString(c),a.location.href=f},b.Out=function(a){console.log(a)},"undefined"==typeof a.XMLHttpRequest&&(a.XMLHttpRequest=function(){return new a.ActiveXObject(navigator.userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")}),b.EnterDomHelper=function(a){for(var b=a.length,c=0;b>c;c++)a[c]._shengyan_i=c,a[c].addEventListener("keydown",function(){var b=event.keyCode||event.charCode;if(13===b){var c=a[this._shengyan_i+1];c&&("INPUT"!==c.nodeName||"radio"!==c.type&&"checkbox"!==c.type&&"text"!==c.type&&"password"!==c.type?c.click():c.focus())}},!1)},b.EnterIdHelper=function(a){for(var c=[],d=0;d<a.length;d++)c.push(document.getElementById(a[d]));b.EnterDomHelper(c)},a.requestAnimFrame=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}(),a.shengyan=a.change=a.ce=b}(window),function(a){a.Ajax=function(b){var c,d,e,f=!1,g=!1;b={url:b.url||"",method:(b.type||"GET").toUpperCase(),data:b.data||null,arguments:b.arguments||null,success:b.success||function(){},error:b.error||function(){},complete:b.complete||function(){},isAsync:b.isAsync||!0,timeout:b.timeout||3e4,contentType:b.contentType,dataType:b.dataType||"xml",getLoading:b.getLoading||!1,postLoading:b.postLoading||!1,showText:b.showText||!1},b.getLoading&&(b.showText="正在请求数据，请稍等..."),b.postLoading&&(b.showText="正在提交您的数据，请稍后..."),b.data&&"object"==typeof b.data&&(b.data=a.ToQueryString(b.data));var d=function(b){try{return!b.status&&"file:"==location.protocol||b.status>=200&&b.status<300||304==b.status||navigator.userAgent.indexOf("Safari")>-1&&"undefined"==typeof b.status}catch(c){a.out("错误：["+c.name+"] "+c.message+", "+c.fileName+", 行号:"+c.lineNumber+"; stack:"+typeof c.stack,2)}return!1};if(e=b.timeout,c=new window.XMLHttpRequest,c.onreadystatechange=function(){if(4==c.readyState){if(!f){var a={};if(a.responseText=c.responseText,a.responseXML=c.responseXML,a.data=b.data,a.status=c.status,a.uri=b.url,a.arguments=b.arguments,"json"===b.dataType)try{a.responseJSON=JSON.parse(c.responseText)}catch(e){}d(c)?(b.showText&&(document.getElementById("div-shengyan-loading").style.display="none"),b.success(a.responseJSON||a.responseXML||a.responseText)):b.error(a),b.complete(a)}g=!0,c=null}},b.showText){var h=document.getElementById("div-shengyan-loading");h?h.style.display="block":document.body.insertAdjacentHTML("beforeend","<div id='div-shengyan-loading' class='scripturesStyle modal_bg modal_bg2' style='text-align: center; background: none;'>                                                                <div class='info'>                                                                    <img src='/Content/Change/Images/loading.gif' />                                                                     <span>"+b.showText+"<span>                                                                </div>                                                            </div>")}return"GET"===b.method?(b.data&&(b.url+=(b.url.indexOf("?")>-1?"&":"?")+b.data,b.data=null),c.open("GET",b.url,b.isAsync),c.setRequestHeader("Content-Type",b.contentType||"text/plain;charset=UTF-8"),c.send()):"POST"===b.method?(c.open("POST",b.url,b.isAsync),c.setRequestHeader("Content-Type",b.contentType||"application/x-www-form-urlencoded;charset=UTF-8"),c.send(b.data)):(c.open(b.method,b.url,b.isAsync),c.send()),window.setTimeout(function(){var a;g||(f=!0,a={},a.uri=b.url,a.arguments=b.arguments,b.complete(a))},e),c}}(ce),function(a){a.UploadInput=function(b){var c=document.createElement("input"),d=0,e=$("#"+b.targetInput).parents(".upload_seat_pic");if(c.type="file",c.accept="image/*",c.multiple="multiple",c.style.display="none",b.progressdiv){var f=document.getElementById(b.progressdiv);f.innerHTML=" <div class='rate'style='display:none;'><div data-progress='true' style='width: 0%;'></div></div></div>"}if(e.length>0){var g=b.width||160,h=b.height||160,i=e[0].querySelector(".front"),j=e[0].querySelector(".back"),k=e[0].querySelector(".flip-container");i.style.width=g+"px",i.style.height=h+"px",j.style.width=g+"px",j.style.height=h+"px",k.style.width=g+2+"px",k.style.height=h+2+"px"}c.onchange=function(){b.progressdiv&&(document.getElementById(b.progressdiv).querySelector(".rate").style.display="block"),a.Upload("/UpLoadObject/UploadifyUpload?width="+(b.width||160)+"&height="+(b.height||160),{data:this.files,count:1,size:2,dataType:"json",loadstart:function(){b.progressdiv&&(document.getElementById(b.progressdiv).querySelector("div[data-progress='true']").style.width="0%")},progress:function(){event.lengthComputable&&b.progress&&(document.getElementById(b.progressdiv).querySelector("div[data-progress='true']").style.width=100*event.loaded/event.total+"%",b.progress(event))},onload:function(){b.progressdiv&&(document.getElementById(b.progressdiv).querySelector("div[data-progress='true']").style.width="100%")},success:function(a){if("undefined"==typeof b.animation||b.animation===!0){var c=e.find("img")[(d+1)%2];c.src=a.ImgFullPath,c.onload=function(){e[0].querySelector(".front").style[shengyan.Literal.transform]="rotateY("+180*(d+1)+"deg)",e[0].querySelector(".back").style[shengyan.Literal.transform]="rotateY("+180*d+"deg)",d++}}else b.targetImage&&(document.getElementById(b.targetImage).src=a.ImgFullPath);b.success&&b.success(a)}})},document.body.appendChild(c),document.getElementById(b.targetInput).onclick=function(a){return function(){a.click()}}(c)},a.Upload=function(b,c){if(c={data:c.data||null,success:c.success||function(){},error:c.error||function(){},isAsync:c.isAsync||!0,dataType:c.dataType||"xml",image:!0,count:c.count||1,size:2,progress:c.progress,onload:c.onload,loadstart:c.loadstart},c.data.lenght>c.count&&a.AlertInfo("对不起只能上传一个"+(c.image?"图片":"文件")+"!"),c.image)for(var d=0;d<c.data.length;d++){if(!c.data[d].type.match(/image.*/))return void a.AlertInfo(" 只能上传图片!");if(parseFloat(c.data[d].size)>1048576*c.size)return void a.AlertInfo("只能上传小于"+c.size+"M的图片!")}var e=new XMLHttpRequest;c.loadstart&&(e.onloadstart=c.loadstart),e.open("POST",b),c.progress&&e.upload.addEventListener("progress",c.progress,!1),c.onload&&e.addEventListener("load",c.onload,!1);var f=function(b){try{return!b.status&&"file:"==location.protocol||b.status>=200&&b.status<300||304==b.status||navigator.userAgent.indexOf("Safari")>-1&&"undefined"==typeof b.status}catch(c){a.out("错误：["+c.name+"] "+c.message+", "+c.fileName+", 行号:"+c.lineNumber+"; stack:"+typeof c.stack,2)}return!1};e.onreadystatechange=function(){if(4===e.readyState){var a={};if(a.responseText=e.responseText,a.responseXML=e.responseXML,a.data=c.data,a.status=e.status,a.uri=c.url,"json"===c.dataType)try{a.responseJSON=JSON.parse(e.responseText)}catch(b){}f(e)?c.success(a.responseJSON||a.responseXML||a.responseText):c.error(a),e=null}};var g=new FormData;c.data instanceof File&&(c.data={file:data});for(var h in c.data)g.append(h,c.data[h]);e.send(g)}}(ce),function(a){a.Print=function(a,b,c){var d=document.createElement("div");if(d.innerHTML=a,d.id=b,d.display="block",e=document.getElementById("change_print_iframe"))e.contentWindow.document.body.innerHTML=d.outerHTML,e.contentWindow.print();else{var e=document.createElement("iframe");e.src="/Content/Change/printIFrame.html",e.id="change_print_iframe",c?(e.style.width="100%",e.style.height="600px"):e.style.display="none",document.body.appendChild(e),e.onload=function(){for(var a=e.contentWindow,b=document.querySelectorAll("link[media='print']"),c=0;c<b.length;c++)a.document.head.appendChild(b[c].cloneNode());a.document.body.innerHTML=d.outerHTML,a.print()}}}}(ce),function(a){a.HeaderInfo=function(b,c){function d(){i()&&requestAnimFrame(d)}var e=document.getElementById("system-info");if(e)e.innerText=b;else{var f=a.Format("<div id='system-info' class='alert  system-info-div'>#{0}</div>",b);document.body.insertAdjacentHTML("beforeend",f),e=document.getElementById("system-info")}e.style.display="inline-block";var g=e.offsetHeight+1;e.style.top=-g+"px";var h=-g,i=function(){return h-=2,e.style.top=h+"px",-g>h?(c&&c(),!1):!0},j=function(){return e.style.top=h+"px",h+=g/2>=h?1.5:1,h>0?!1:!0};window.__hidenTime?(clearTimeout(window.__hidenTime),window.__hidenTime=setTimeout(d,2e3)):window.__hidenTime=setTimeout(d,2e3),function k(){j()&&requestAnimFrame(k)}()},a.AlertInfo=function(b,c){var d,e;arguments.length>2?(d=arguments[1]||function(){},e=arguments[2]||function(){}):d=c;var f=function(){var a=document.getElementById("_shegnyan_modal");a.parentNode.removeChild(a),document.body.style.overflowY="scroll"},g=function(){f(),d&&d()},h=function(){f(),e&&e()},i=a.Format("<div class='modalDiv' style='width: 350px; height: 200px;'>                                  <div data-cont='0'>                                     <h1 class='title_1'><span>系统提示</span></h1>                                    <div style='min-width: inherit;'>                                        <div class='con_box' style='padding-bottom: 1px;'>                                            <form>                                                <ul>                                                    <li class='notice'><span>#{0}</span></li>                                                </ul>                                                <div class='btn_area_c'>                                                      <a id='_shengyan_ok' href='javascript:void(0)' style='margin-right: 20px;' class='btn_2'><span>确定</span></a>                                             #{1}                                                </div>                                            </form>                                        </div>                                    </div>                                 </div>                         </div>",b,e?"<a id='_shengyan_cancer' href='javascript:void(0)' class='btn_1'><span>取消</span></a>":""),j=document.createElement("div");j.id="_shegnyan_modal",j.classList.add("scripturesStyle"),j.classList.add("modal_bg"),j.classList.add("modal_bg2"),j.innerHTML=i,document.body.appendChild(j),document.body.style.overflowY="hidden",document.getElementById("_shengyan_ok").onclick=g;var k=document.getElementById("_shengyan_cancer");k&&(k.onclick=h);var l=j.querySelector("div[data-cont='0']");l.addEventListener("mouseover",function(){var a=this.classList;a.contains("shengyanTransformScale")||a.add("shengyanTransformScale")}),l.addEventListener("mouseleave",function(){var a=this.classList;a.contains("shengyanTransformScale")&&a.remove("shengyanTransformScale")})},a.ComfirmInfo=function(b,c,d){a.AlertInfo(b,c,d)},a.AlertPage=function(){function b(b,c,d,e,f){var g=document.getElementById("_shengyan_popBkg"),c=c||800,d=d||600;if(this.Callback=f||null,g){var h=g.querySelector(".modalDiv");h.style.width=c+"px",h.style.height=d+"px",h.querySelector("#_shengyan_popFrame").src=b}else{var i=a.Format("<div id='_shengyan_popBkg' class='scripturesStyle modal_bg'>                    <div class='modalDiv' style='width: #{0}px; height: #{1}px;'>                       <h1 class='title_1'><a href='javascript:ce.AlertPage.Hide();' class='close' title='关闭'>关闭</a><span class='__popBkgtitle'></span></h1>                       <iframe id='_shengyan_popFrame' style='height: #{1}px' src='#{2}' frameborder='0'></iframe>                    </div>              </div>",c,d,b);document.body.insertAdjacentHTML("beforeend",i),g=document.getElementById("_shengyan_popBkg")}g.querySelector("#_shengyan_popFrame").onload=function(a){return function(){a=a||document.getElementById("_shengyan_popFrame").contentWindow.document.querySelector("title").innerText,g.querySelector("span.__popBkgtitle").innerText=a,g.style.display="block"}}(e),document.body.style.overflowY="hidden"}function c(a){this.Callback&&this.Callback(a),setTimeout(function(){document.getElementById("_shengyan_popBkg").style.display="none",document.body.style.overflowY="scroll"},0)}return this.Callback=null,{Show:b,Hide:c}}()}(ce),$(function(){jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&(this.checked||/^(?:select|textarea)/i.test(this.nodeName)||/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i.test(this.type))}).map(function(a,b){var c=jQuery(this).val();return null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(/\r?\n/g,"\r\n")}}):{name:b.name,value:c.replace(/\r?\n/g,"\r\n")}}).get()}}),$.fn.serializeJson=function(){var a={};return $(this.serializeArray()).each(function(){var b=a[this.name];void 0!==b?Array.isArray(b)?a[this.name].push(this.value):a[this.name]=[a[this.name],this.value]:a[this.name]=this.value}),a},$.fn.serializeJsonNET=function(){var a=this.serializeJson();for(var b in a){var c=a[b];if(Array.isArray(c)){for(var d=0;d<c.length;d++)a[b+"["+d+"]"]=c[d];delete a[b]}}return a}}),function(a){function b(){this.url="",this.pageIndex=0,this.pageSize=0,this.totalCount=0,this.totalpage=0,this.pageFooterId,this.where=null,this.pagediv=null,this.ShowSatus=function(){for(var a="",b=10*Math.floor((this.pageIndex-1)/10)+1,c=b;c<=this.totalpage&&!(c-b>9);c++)a+="<li "+(this.pageIndex===c?"class='on'":"")+"><a   href='javascript:void(0);' data-action='"+c+"'>"+c+"</a></li>";return a},this.ToHtml=function(){var a=shengyan.Format("<div class='scripturesStyle'><div class='page_nav'>                               <dl class='jump_menu'>                                   <dt><a href='javascript:void(0)'>转到</a></dt>                                   <dd class='input_jumpmenu'>                                       <input type='text' style='height: 100%;'></dd>                                   <dd class='text_page'>页</dd>                               </dl>                               <ul class='page_file'>                                   <li class='pre'>                                       <a href='javascript:void(0)' data-action='pre' title='上十页'>上十页</a>                                   </li>                                  #{4}                                   <li class='next'><a href='javascript:void(0)' data-action='next' title='下十页'>&gt;&gt;</a></li>                               </ul>                               <span class='page_nav_info'>共 #{0} 条记录 页次：#{1}/#{2}页 #{3}条/页</span>                       </div></div>",this.totalCount,this.pageIndex,this.totalpage,this.pageSize,this.ShowSatus());this.pagediv.innerHTML=a},this.BindClick=function(){var a=this;$(a.pagediv).find(".page_file li a").click(function(){var b,c=$(this).attr("data-action");"pre"===c?(b=10*(Math.floor(a.pageIndex/10)-1)+1,b>0&&a.Target(a.where,b)):"next"===c?(b=10*Math.ceil(a.pageIndex/10)+1,b<a.totalpage&&a.Target(a.where,b)):a.Target(a.where,parseInt(c))}),Verification.BindnumberInput($(a.pagediv).find(".jump_menu input")[0]),$(a.pagediv).find(".jump_menu a").click(function(){var b=$(a.pagediv).find(".jump_menu input").val();isNaN(b)||a.Target(a.where,parseInt(b))})}}function c(a,c,d){b.call(this);var e=shengyan.GetUrlParam();this.totalCount=parseInt(d||0),this.pageSize=parseInt(c||20),this.pageIndex=parseInt(e.pageIndex||1),this.totalpage=Math.ceil(this.totalCount/this.pageSize),this.pageFooterId=a,this.pagediv=document.getElementById(this.pageFooterId),this.GetData=function(){shengyan.SetLocationUrl({pageIndex:this.pageIndex})},this.Bind()}function d(a,b,c,d,e){this.pageSize=8,this.url=a,this.showDataId=b,this.pageFooterId=c,this.pageSize=d||8,this.callBack=e,this.pagediv=document.getElementById(this.pageFooterId),this.GetData=function(){var a=this;$.ajax({type:"get",url:this.url+"?pageIndex="+a.pageIndex+"&pageSize="+a.pageSize,data:a.where,cache:!1,dataType:"json",success:function(b){a.totalCount=b.RecordCount||0,a.totalpage=Math.ceil(a.totalCount/a.pageSize),a.Bind(),a.callBack&&a.callBack(b),a.showDataId&&(document.getElementById(a.showDataId).innerHTML=b.List)},error:function(){}})}}b.prototype.Target=function(a,b){this.where=a||null,1==b?(this.pageIndex=b,this.GetData()):b>0&&b<=this.totalpage?(this.pageIndex=b,this.GetData()):shengyan.HeaderInfo("没有该页！",function(){$(pagediv).find(".jump_menu input").val("")})},b.prototype.Bind=function(){0!==this.totalpage&&(this.ToHtml(),this.BindClick())},c.prototype=new b,d.prototype=new b,a.LocationDatapager=c,a.AjaxDatapager=d}(ce),window.Calendar={Close:function(){$("#calendar").remove()},Create:function(a){var b=new Date,c=a.offset(),d=c.left,e=c.top+5+a.height(),f='<div id="calendar"  onmouseleave="Calendar.Close();" style="z-index:99999999999;left:'+d+"px;top:"+e+'px;" class="calendar_min" data-target="'+a.attr("id")+'" data-year="'+b.getFullYear()+'" data-month="'+(b.getMonth()+1)+'"><h3>';f+='<a href="javascript:Calendar.LastYear();" class="pre_year" title="去年">去年</a>',f+='<a href="javascript:Calendar.LastMonth()" class="pre_month" title="上个月">上个月</a>',f=f+'<span class="tit">'+b.getFullYear()+"年"+(b.getMonth()+1)+"月</span>",f+='<a href="javascript:Calendar.NextYear()" class="next_year" title="明年">明年</a>',f+='<a href="javascript:Calendar.NextMonth()" class="next_month" title="下个月">下个月</a></h3>',f+='<div class="week"><ul><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li><li class="last">日</li></ul></div>',f+='<div class="days"><ul>';for(var g=1;43>g;g++)f+=g%7===0?'<li class="space r"></li>':'<li class="space"></li>';f+="</ul></div>",Calendar.Close(),$(document.body).append(f),Calendar.Render(b.getFullYear(),b.getMonth()+1)},Render:function(a,b){var c=new Date(a,b-1,1).getDay()-1;0>c&&(c+=7);var d=new Date(a,b,0).getDate(),e=$("#calendar"),f=1;Calendar.Reset(),e.attr("data-year",a),e.attr("data-month",b),e.find("span.tit").html(a+"年"+b+"月"),e.find("div.days > ul > li").each(function(){if(f>c&&d+c>=f){var a=f-c;$(this).html('<span onclick="Calendar.Click('+a+');">'+a+"</span>").removeClass("space")}f++})},LastMonth:function(){var a=$("#calendar"),b=parseInt(a.attr("data-year")),c=parseInt(a.attr("data-month"))-1;1>c&&(c=12,b--),Calendar.Reset(),Calendar.Render(b,c)},LastYear:function(){var a=$("#calendar"),b=parseInt(a.attr("data-year"))-1,c=parseInt(a.attr("data-month"));Calendar.Reset(),Calendar.Render(b,c)},NextMonth:function(){var a=$("#calendar"),b=parseInt(a.attr("data-year")),c=parseInt(a.attr("data-month"))+1;c>12&&(c=1,b++),Calendar.Reset(),Calendar.Render(b,c)},NextYear:function(){var a=$("#calendar"),b=parseInt(a.attr("data-year"))+1,c=parseInt(a.attr("data-month"));Calendar.Reset(),Calendar.Render(b,c)},Reset:function(){var a=$("#calendar");a.find("div.days > ul > li").each(function(){$(this).html("").addClass("space")})},Click:function(a){var b=$("#calendar"),c=parseInt(b.attr("data-year")),d=parseInt(b.attr("data-month")),e=c+"-"+d+"-"+a,f=b.attr("data-target");$("#"+f).val(e).trigger("change"),Calendar.Close()}},ce.SelectCurrentCity=function(a){var b=this,c=a.cityid,d=a.address,e=[],f=[],g=document.getElementById(a.id);b.Data=null,b.length=3;var h=function(){e[0]==this?(j(e[1],k(this.value)),e[2].innerHTML="<option value='-1'>请选择</option>"):e[1]==this&&j(e[2],k(this.value))},i=function(){for(var a=0;a<b.length;a++){var c=document.createElement("select");c.style.marginRight="1px",g.appendChild(c),e.push(c)}var f=document.createElement("input");f.type="text",f.maxLength=25,f.style.width="110px",f.value=d,g.appendChild(f),b.input=f},j=function(a,b){for(var c="<option value='-1'>请选择</option>",d=0;d<b.length;d++)c+="<option value='"+b[d].CityID+"'>"+b[d].CityName+"</option>";a.innerHTML=c},k=function(a){for(var c=[],d=0;d<b.Data.length;d++)b.Data[d].ParentID==a&&c.push(b.Data[d]);return c.sort(function(a,b){a.Sequence-b.Sequence})},l=function(){shengyan.Ajax({type:"GET",url:"/City/GetAllCity",cache:!1,dataType:"json",data:{},success:function(a){b.Data=a,null!=c&&n()},error:function(){}})},m=function(a){for(var c=0;c<b.Data.length;c++)if(b.Data[c].CityID==a)return b.Data[c]},n=function(){var a=m(c);if(a)if(0==a.ParentID)f.push(a);else{var d=m(a.ParentID);if(0==d.ParentID)f.push(d,a);else{var g=m(d.ParentID);0==g.ParentID&&f.push(g,d,a)}}for(var i=0,l=0;l<b.length;l++)j(e[l],k(i)),f[l]&&(e[l].value=f[l].CityID,i=f[l].CityID),e[l].addEventListener("change",h,!1);0==f.length?(e[1].innerHTML="<option value='-1'>请选择</option>",e[2].innerHTML="<option value='-1'>请选择</option>"):1==f.length&&(e[2].innerHTML="<option value='-1'>请选择</option>")};return i(),l(),{GetValue:function(){for(var a=null,c=e.length-1;c>=0;c--)if(e[c].value&&"-1"!=e[c].value){a=e[c].value;break}return{CityID:a,Address:b.input.value||""}}}},ce.SelectNativeCity=function(a){var b=this,c=a.cityid,d=[],e=[],f=document.getElementById(a.id);b.Data=null,b.length=2;var g=function(){d[0]==this&&i(d[1],j(this.value))},h=function(){for(var a=0;a<b.length;a++){var c=document.createElement("select");c.style.marginRight="1px",f.appendChild(c),d.push(c)}},i=function(a,b){for(var c="<option value='-1'>请选择</option>",d=0;d<b.length;d++)c+="<option value='"+b[d].CityID+"'>"+b[d].CityName+"</option>";a.innerHTML=c},j=function(a){for(var c=[],d=0;d<b.Data.length;d++)b.Data[d].ParentID==a&&c.push(b.Data[d]);return c.sort(function(a,b){a.Sequence-b.Sequence})},k=function(){shengyan.Ajax({type:"GET",url:"/City/GetAllCity",cache:!1,dataType:"json",data:{},success:function(a){b.Data=a,null!=c&&m()},error:function(){}})},l=function(a){for(var c=0;c<b.Data.length;c++)if(b.Data[c].CityID==a)return b.Data[c]},m=function(){var a=l(c);if(a)if(0==a.ParentID)e.push(a);else{var f=l(a.ParentID);0==f.ParentID&&e.push(f,a)}for(var h=0,k=0;k<b.length;k++)i(d[k],j(h)),e[k]&&(d[k].value=e[k].CityID,h=e[k].CityID),d[k].addEventListener("change",g,!1);0==e.length&&(d[1].innerHTML="<option value='-1'>请选择</option>")};return h(),k(),{GetValue:function(){for(var a=null,b=d.length-1;b>=0;b--)if(d[b].value&&"-1"!=d[b].value){a=d[b].value;break}return{CityID:a}}}},function(a){function b(a,b){function c(a){return a/=3,2>=a?"":k.Repeat(a-2)}function d(a){return a.sort(function(a,b){return b.Sequence-a.Sequence})}function e(a,b){for(var c=[],e=0;e<a.length;e++)a[e]&&a[e].ModuleId.length==b.length+3&&a[e].ModuleId.substr(0,b.length)===b&&c.push(a[e]);return d(c)}function f(a,b){var c=[];if(3===b.length)return c;for(var e=0;e<a.length;e++)a[e]&&a[e].ModuleId.length==b.length&&a[e].ModuleId.substr(0,b.length-3)===b.substr(0,b.length-3)&&c.push(a[e]);return d(c)}function g(a,b){return f(a,b.substr(0,b.length-3))}function h(a){for(var b=m[a.substr(0,3)],c=0;c<b.length;c++)if(b[c].ModuleId===a){b.splice(c,1),c--;break}m[a]=b}function i(a,b){for(var d=null,i=[];d!==b;){var j=e(a,d||b)[0];j||(j=f(a,d||b)[0]),j||(j=g(a,d||b)[0],j||(d=d.substr(0,d.length-3))),j&&(d=j.ModuleId,h(d),i.push(shengyan.Format("<td class='tl' #{5}>#{0}                                                             <label><input type='checkbox' value='#{1}' name='UserModuleIds' #{3} #{4}/>#{2}</label>                                              </td>",c(j.ModuleId.length),j.ModuleId,j.Name,j.Checked?"checked='checked'":"",j.Disabled?"disabled='disabled'":"",6===j.ModuleId.length?" style='background: #f5f5f5;'":"")))
}return i}function j(){var a=" <table width='0' border='0' cellspacing='0' cellpadding='0' class='scripturesStyle table_3'><tbody>";a+="<tr>";for(var c=0;c<l.length;c++)a+="<th>"+l[c].Name+"</th>";a+="</tr>";var d=[];for(var e in m)"function"!=typeof m[e]&&d.push(i(m[e],e));var f=[];for(var e in d)f.push(d[e].length);for(var g=f.Max(),h=0;g>h;h++){a+="<tr>";for(var j=0;j<d.length;j++)a+=d[j][h]||"<td></td>";a+="</tr>"}a+=" </tbody></table>",document.getElementById(b).innerHTML=a}if(this.id=b,a&&a.length>0){for(var k="&nbsp;&nbsp;&nbsp;&nbsp;",l=[],m={},n=0;n<a.length;n++)3===a[n].ModuleId.length&&l.push(a[n]);l=d(l);for(var n=0;n<a.length;n++){var o=a[n].ModuleId;if(o.length>3){var p=o.substr(0,3);m[p]?m[p].push(a[n]):m[p]=[a[n]]}}j()}}b.prototype.SetValue=function(a){for(var b=document.getElementById(this.id).querySelectorAll("input[type='checkbox']"),c=b.length,d=0;d<a.length;d++)for(var e=0;c>e;e++)a[d]===b[e].value&&(b[e].checked=!0)},b.prototype.GetValue=function(){for(var a=document.getElementById(this.id).querySelectorAll("input[type='checkbox']"),b=a.length,c=[],d=0;b>d;d++)a[d].checked&&c.push(a[d].value);return c},a.Authority=b}(ce);var Verification=function(){function a(a,b,c,d){a.onkeyup=function(){this.value=this.value.replace(/\D/g,"")},a.onkeydown=function(a,b,c){return function(){var d=event.keyCode||event.charCode;if(d>=48&&57>=d||8===d||d>=96&&105>=d){if(d>=48){var e=0;57>=d?e=d-48:105>=d&&(e=d-96),b||"0"===this.value&&(this.value="");var f=parseInt(this.value.toString()+e);if(a&&f>a)return!1}}else{if(c&&(86===d&&event.ctrlKey||17===d||67===d))return!0;if(13!==d)return!1}return!0}}(b,c,d),d||a.setAttribute("onpaste","return false")}function b(a,b){a.onkeydown=function(){var a=event.keyCode||event.charCode;if(a>=48&&57>=a||8===a||110===a||190===a||a>=96&&105>=a){if(("."===this.value||"0.00"===this.value)&&(this.value=""),110===a||190===a){if(0===this.value.Trim().length)return!1;if(this.value.indexOf(".")>0)return!1}else if("0"===this.value)this.value="";else if(a>=48&&57>=a||a>=96&&105>=a){var c=0;57>=a?c=a-48:105>=a&&(c=a-96);var d=parseInt(this.value.toString()+c);if(b&&d>b)return!1;var e=this.value.toString()+c,f=e.indexOf(".");if(f>0&&e.length>f+1&&e.substring(f+1).length>2)return!1}}else if(13!==a)return!1;return!0},a.onkeyup=function(){this.value=this.value.replace(/[^\d.]/g,"")},a.setAttribute("onpaste","return false"),b&&a.setAttribute("maxlength",b),a.addEventListener("blur",function(){(""===this.value||"."===this.value||"0"===this.value)&&(this.value="0.00")},!1)}function c(a){return a=a.Trim(),11!==a.length?!1:isNaN(a)?!1:"1"!==a.substring(0,1)?!1:!0}function d(a){var b=/\d{7,12}$/;return b.test(a.Trim())}function e(a){return c(a)||d(a)}function f(a,b,c,d){this.name=a?a.Trim():"",this.text=b?b.Trim():"",this.noNull=c||null,this.maxLength=d||null}return f.prototype.GetLenth=function(){return this.text.replace(/[^\x00-\xff]/g,"**").length},f.prototype.NoSafetyText=function(){if(this.text!==this.text.StripTags().StripScripts())return this.name+"有非法字符！";var a=this.GetLenth();return this.noNull&&0===a?this.name+"不能为空！":this.maxLength&&a>this.maxLength?this.name+"长度不能大于"+this.maxLength+"个字符！":null},f.prototype.Course=function(){},f.prototype.Execute=function(){return this.NoSafetyText()||this.Course()},{BindnumberInput:a,InputPeople:function(b){a(document.getElementById(b),9999)},InputTelephone:function(b){var c=document.getElementById(b);c.setAttribute("maxlength","12"),a(c,void 0,!0,!0)},InputTelephone2:function(b){b.setAttribute("maxlength","12"),a(b,void 0,!0,!0)},ValidTelephone:function(a){var b=new f("电话",a,!0);return b.Course=function(){return e(b.text)?void 0:"电话格式不正确！"},b.Execute()},ValidCustomerName:function(a){var b=new f("姓名",a,!0,20);return b.Execute()},ValidChannelName:function(){var a=new f("渠道名称",text,!0,20);return a.Execute()},ValidCustomerUnit:function(a){var b=new f("单位",a,!1,40);return b.Execute()},InputDeposit:function(b){a(document.getElementById(b),999999)},ValidRequirement:function(a){var b=new f("备注",a,!1,50);return b.Execute()},InputSequence:function(b){a(b,999999)},ValidPassWord:function(a){if(!a)return"密码不能为空！（长度6-20个字符  支持数字、大小写字母）";if(a.length<6)return"密码长度不够！（长度6-20个字符  支持数字、大小写字母）";var b=/[0-9|A-Z|a-z]{6,20}/;return b.test(a)?a.length>20?"密码长度太长！（长度6-20个字符  支持数字、大小写字母）":null:"密码不能有特殊符号！（长度6-20个字符  支持数字、大小写字母）"},ValidMarketingContent:function(a){var b=(a||"").length;return 0==b?"短信内容不能为空！":b>118?"短信内容不能超过118个字！":null},InputRecOrderDays:function(b){a(document.getElementById(b),999)},InputTotalOrders:function(b){a(document.getElementById(b),999)},InputSpend:function(a){b(document.getElementById(a))},InputSpend2:function(a){b(a)},ValidSpend:function(a){var b=new f("消费金额",a);return b.Course=function(){return isNaN(b.text)?b.name+"格式不正确！":parseInt(b.text)>999999?b.name+"不能大于6位数！":null},b.Execute()},ValideProportion:function(a){var b=new f("消费金额提成比例",a);return b.Course=function(){return isNaN(b.text)?b.name+"格式不正确！":parseFloat(b.text)>100?b.name+"不能大于100%！":null},b.Execute()},ValidUserName:function(a){if(0===a.Trim().length)return"用户名不能为空！";var b=/^[a-zA-z0-9]\w{3,19}$/;return b.test(a)?null:"用户名格式不正确！(格式 A-Z a-z _ 0-9  4-20位)"},ValidImageCode:function(a){var b=new f("验证码",a,!0);return b.Course=function(){return 5!==this.GetLenth()?b.name+"格式不正确（五位）！":null},b.Execute()},InputPhoneCode:function(b){a(document.getElementById(b),9999,!0)},ValidPhoneCode:function(a){var b=new f("手机验证码",a,!0);return b.Course=function(){return 4!==this.GetLenth()?b.name+"格式不正确！(4为数字)":null},b.Execute()},ValidPosition:function(a){var b=new f("职位",a,!1,20);return b.Execute()},ValidAreaName:function(a){var b=new f("餐厅区域",a,!0,20);return b.Execute()},ValidDeskName:function(a){var b=new f("桌位名称",a,!0,20);return b.Execute()},ValidPeopleMaxOrMin:function(a,b){return"Undefined"===shengyan.Type(a)||""===a?"请输入上线人数！":"Undefined"===shengyan.Type(b)||""===b?"请输入下线人数！":parseInt(b)<parseInt(a)?"上线人数不能小于下线人数！":null},ValidDeskRemark:function(a){var b=new f("餐厅说明",a,!1,50);return b.Execute()},InputDeskBalance:function(b){a(document.getElementById(b),9999)},InputDiningRoomArea:function(b){a(document.getElementById(b),9999)},InputAverageSpendBegin:function(b){a(document.getElementById(b),9999)},InputAverageSpendEnd:function(b){a(document.getElementById(b),9999)},ValidTheBus:function(a){var b=(a||"").length;return 0===b?"交通指引内容不能为空！":b>120?"交通指引内容不能超过120个字！":null},ValidDeskMpName:function(a){var b=new f("公共号名称",a,!0,20);return b.Execute()},ValidDeskMpId:function(a){var b=new f("公众号原始id",a,!0,20);return b.Execute()},ValidDeskWeiXinId:function(a){var b=new f("微信号",a,!0,20);return b.Execute()},ValidDeskAppId:function(a){var b=new f("AppID",a,!0,50);return b.Execute()},ValidDeskAppSecret:function(a){var b=new f("AppSecret",a,!0,50);return b.Execute()},ValidDeskMaterialContent:function(a){var b=new f("文本自动回复",a,!0,2e3);return b.Execute()},ValidDeskMaterialTitle:function(a){var b=new f("标题",a,!0,100);return b.Execute()},ValidDeskMaterialIntroduction:function(a){var b=new f("内容简介",a,!1,1e3);return b.Execute()},ValidDeskMaterialDetail:function(a){var b=new f("全文详情",a);return b.GetLenth()>5e3?"全文详情长度不能大于5000个字符！":null},ValidNameOrPhone:function(a){var b=new f("姓名或手机",a,!1,20);return b.Execute()},ValidAddress:function(a){var b=new f("现住址",a,!1,50);return b.Execute()},ValidLike:function(a){var b=new f("喜好",a,!0,20);return b.Execute()},ValidIntolerance:function(a){var b=new f("忌口",a,!0,20);return b.Execute()},ValidBadRecord:function(a){var b=new f("不良记录",a,!1,100);return b.Execute()},ValidSmsContent:function(a){var b=(a||"").length;return 0===b?"短信内容不能为空！":b>120?"短信内容不能超过120个字！":null},ValidMemoContent:function(a){var b=new f("备忘录",a,!1,50);return b.Execute()},InputActiveDays:function(b){a(document.getElementById(b),365)},ValidActiveDays:function(a){return 0===a.Trim().length?"活跃会员天数不能为空！":parseInt(a)<31?"活跃会员天数必须大于等于31天！":null},InputSleepDays:function(b){a(document.getElementById(b))},ValidSleepDays:function(a,b){return 0===b.Trim().length?"沉睡会员天数不能为空！":0===parseInt(b)||parseInt(b)>2*parseInt(a)?"沉睡会员结束天数必须小于等于活跃会员天数*2且大于0":null},ValidClassificationName:function(a){var b=new f("分类名称",a,!0,20);return b.Execute()},InputAccountAmount:function(b){a(document.getElementById(b),99999)},ValidAccountAmount:function(a){return 0===(a||"").Trim().length?"请输入金额！":parseInt(a)<200||parseInt(a)>99999?"充值金额不能低于200元！":null},InputPhone:function(b){var c=document.getElementById(b);c.setAttribute("maxlength","11"),a(c,void 0,!0,!0)},ValidPhone:function(a){return a=(a||"").Trim(),""===a?"请输入手机号！":c(a)?null:"手机格式不正确！"},ValidQrCode:function(a){var b=new f("二维码名称",a,!0,30);return b.Course=function(){var b=new RegExp("^[A-Za-z0-9一-龥]+$");return b.test(a)?void 0:"二维码名称格式错误！（只能输入 汉字 字母 数字）"},b.Execute()},ValidStairMenu:function(a){var b=new f("一级菜单名称",a,!0,8);return b.Execute()},ValidSecondMenu:function(a){var b=new f("二级菜单名称",a,!0,14);return b.Execute()},ValidLink:function(a){var b=new f("链接",a,!0);return b.Course=function(){var b=new RegExp("^((https|http|ftp|rtsp|mms)://)?[a-z0-9A-Z]{3}.[a-z0-9A-Z][a-z0-9A-Z]{0,61}?[a-z0-9A-Z].com|net|cn|cc (:s[0-9]{1-4})?/$");return b.test(a)?void 0:"链接格式不正确！"},b.Execute()},SumbitForm:function(a,b){window.location.href=window.location.href.split("#form","")+"#form",a.removeClass(),a.find(".save").eq(0).text("正在处理..."),a.attr("class","btn_2 btn_unclick"),a.removeAttr("onclick"),b.get(0).submit()},Init:function(){for(var a=document.querySelectorAll("input[data-shengyan='number']"),c=0;c<a.length;c++)b(a[c],1e6);for(var d=document.querySelectorAll("input[data-shengyan='integer']"),e=0;e<d.length;e++)Verification.BindnumberInput(d[e],1e6);for(var f=document.querySelectorAll("input[data-shengyan='phone']"),g=0;g<f.length;g++)Verification.InputTelephone2(f[g])}}}();!function(a){function b(a){function b(){D&&$(".shengyan-glyphicon-add").hide(),E&&$(".shengyan-glyphicon-editor").hide(),F&&$(".shengyan-glyphicon-delete").hide()}function c(){return B.querySelectorAll("input").length}function d(a){shengyan.ComfirmInfo("确认要删除吗？",function(){var b=a.target.parentNode,c=b.querySelector("input[name=Phone]");z.phoneId=c.getAttribute("data-id"),$.ajax({url:w,type:"POST",data:z,dataType:"json",success:function(a){if(0===a.Code){shengyan.HeaderInfo("删除成功"),b.parentNode.removeChild(b);var c=B.querySelectorAll(".shengyan-glyphicon-add");c.length>0&&(c[c.length-1].style.display="inline-block")}else shengyan.HeaderInfo(getReturnMessage(a.Code))}})})}function e(a){if(c()>=5)return void shengyan.HeaderInfo("最多只能参加5个电话！");var b=a.target;b.style.display="none",B.appendChild(n("",!1,!1,!1,!0))}function f(a){var b=a.target;b.classList.remove("shengyan-error")}function g(a,c){var d=a.querySelector(".shengyan-glyphicon-editor"),e=a.querySelector(".shengyan-glyphicon-delete"),f=a.querySelector(".shengyan-glyphicon-add"),g=a.querySelector(".shengyan-glyphicon-ok"),h=a.querySelector(".shengyan-glyphicon-cancer");if(c)d.style.display="none",e.style.display="none",f.style.display="none",g.style.display="inline-block",h.style.display="inline-block";else{d.style.display="inline-block";for(var i=a.querySelector("input[name=Phone]"),j=B.querySelectorAll("input[name=Phone]"),k=0;k<j.length;k++)i==j[k]&&0!==k&&(e.style.display="inline-block"),k===j.length-1&&(f.style.display="inline-block");g.style.display="none",h.style.display="none"}b()}function h(a){var b=a.target.parentNode,c=b.querySelector("input[name=Phone]");c.classList.remove("shengyan-phone"),c.classList.add("shengyan-phone-editor"),c.setAttribute("data-oldval",c.value),c.readOnly=!1,g(b,!0)}function i(a){var b=a.target.parentNode,c=b.querySelector("input[name=Phone]");C.Execute(c)&&(z.phone=c.value,$.ajax({url:x,type:"POST",data:z,dataType:"json",success:function(a){0===a.Code?(shengyan.HeaderInfo("添加电话成功！",function(){I&&window.location.reload()}),c.classList.remove("shengyan-phone-editor"),c.classList.add("shengyan-phone"),c.setAttribute("data-oldval",c.value),c.setAttribute("data-id",a.Data),c.readOnly=!0,g(b,!1)):shengyan.HeaderInfo(a.Message?a.Message:getReturnMessage(a.Code))}}))}function j(a){var b=a.target.parentNode,c=b.querySelector("input[name=Phone]");C.Execute(c)&&(z.phoneId=c.getAttribute("data-id"),z.phone=c.value,$.ajax({url:y,type:"POST",data:z,dataType:"json",success:function(a){0===a.Code?(shengyan.HeaderInfo("修改电话成功！",function(){I&&window.location.reload()}),c.classList.remove("shengyan-phone-editor"),c.classList.add("shengyan-phone"),c.setAttribute("data-oldval",c.value),c.readOnly=!0,g(b,!1)):shengyan.HeaderInfo(a.Message?a.Message:getReturnMessage(a.Code))}}))}function k(a){var b=a.target.parentNode,c=b.querySelector("input[name=Phone]");c.getAttribute("data-oldval")?j(a):i(a)}function l(a){var b=a.target.parentNode,c=b.querySelector("input[name=Phone]");if(c.classList.remove("shengyan-phone-editor"),c.classList.add("shengyan-phone"),c.value=c.getAttribute("data-oldval"),0==c.value.Trim().length){var d=$(b).prev()[0];b.parentNode.removeChild(b),g(d,!1)}else c.readOnly=!0,g(b,!1)}function m(a){var b=a.target;H&&!b.readOnly?(z.phone=b.value,$.ajax({url:H,type:"get",data:z,dataType:"json",cache:!1,async:!1,success:function(a){a&&a.length>0?(shengyan.HeaderInfo("此电话已被"+a+"使用！"),b.focus(),A=!1):A=!0}})):A=!0}function n(a,b,c,g,i){var j=document.createElement("div");j.style.marginBottom="5px";var n=document.createElement("input");n.type="text",n.size=G,n.name="Phone",n.value=a.Phone||"",n.setAttribute("data-id",a.Id),n.style.marginLeft="3px",n.classList.add(i?"shengyan-phone-editor":"shengyan-phone"),n.readOnly=i?!1:!0,Verification.InputTelephone2(n),n.addEventListener("focus",f,!1),n.addEventListener("blur",m,!1),j.appendChild(n);var o=document.createElement("a");o.href="javascript:void(0)",o.classList.add("shengyan-glyphicon"),o.classList.add("shengyan-glyphicon-editor"),o.style.marginLeft="3px",o.style.display=g?"inline-block":"none",o.addEventListener("click",h,!1),j.appendChild(o);var p=document.createElement("a");p.href="javascript:void(0)",p.classList.add("shengyan-glyphicon"),p.classList.add("shengyan-glyphicon-delete"),p.style.marginLeft="3px",p.style.display=c?"inline-block":"none",p.addEventListener("click",d,!1),j.appendChild(p);var q=document.createElement("a");q.href="javascript:void(0)",q.classList.add("shengyan-glyphicon"),q.classList.add("shengyan-glyphicon-add"),q.style.marginLeft="3px",q.style.display=b?"inline-block":"none",q.addEventListener("click",e,!1),j.appendChild(q);var r=document.createElement("a");r.href="javascript:void(0)",r.classList.add("shengyan-glyphicon"),r.classList.add("shengyan-glyphicon-ok"),r.style.marginLeft="3px",r.style.display=i?"inline-block":"none",r.addEventListener("click",k,!1),j.appendChild(r);var s=document.createElement("a");return s.href="javascript:void(0)",s.classList.add("shengyan-glyphicon"),s.classList.add("shengyan-glyphicon-cancer"),s.style.marginLeft="3px",s.style.display=i?"inline-block":"none",s.addEventListener("click",l,!1),j.appendChild(s),I&&""!==a&&I(j,a.Phone),j}function o(a){for(var b=0;b<a.length;b++)B.appendChild(0===b?n(a[b],1===a.length,!1,u,!1):b===a.length-1?n(a[b],s,t,u,!1):n(a[b],!1,t,u,!1))}function p(){$.ajax({type:"get",url:v,data:z,cache:!1,dataType:"json",success:function(a){o(a),b()}})}var q=a.containerID,r=a.phoneArray,s=!0,t=!0,u=!0,v=a.getUrl,w=a.deleteUrl,x=a.addUrl,y=a.updateUrl,z=a.data||{},A=!0,B=document.getElementById(q),C=this,D=a.unAdd,E=a.unEidtor,F=a.unDel,G=a.size||12,H=a.existsPhoneUrl,I=a.fun;r?o(r):p(),b(),C.Execute=function(a){for(var b=B.querySelectorAll("input[name='Phone']"),c=0;c<b.length;c++){var d=b[c];if(d!=a&&""!==a.value.Trim()&&d.value===a.value)return shengyan.HeaderInfo("有重复的电话！",function(){}),a.classList.add("shengyan-error"),A=!1,!1}for(var e=0;e<b.length;e++){var f=Verification.ValidTelephone(b[e].value);if(f)return shengyan.AlertInfo(f,function(){b[e].focus()}),!1}return!0}}a.UIPone=b}(ce);