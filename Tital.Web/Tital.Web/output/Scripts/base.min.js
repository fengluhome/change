/*! app 2014-08-01 */
!function(a){var b={};String.prototype.Contains=function(a,b){return b?this.toLowerCase().indexOf(a.toLowerCase()):-1!==this.indexOf(a)},String.prototype.StartsWith=function(a,b){var c=this.substr(0,a.length);return b?c.toLowerCase()===a.toLowerCase():c===a},String.prototype.EndsWith=function(a,b){var c=this.substring(this.length-a.length);return b?c.toLowerCase()===a.toLowerCase():c===a},String.prototype.Repeat=function(a){for(var b=this,c="";a>0&&(a%2===1&&(c+=b),1!==a);)b+=b,a>>=1;return c},String.prototype.ByteLen=function(){for(var a=this.length,b=0;b<this.length;b++)this.charCodeAt(b)>255&&a++;return a},String.prototype.Truncate=function(a,b){return a=a||30,b=void 0===b?"...":b,this.length>a?this.slice(0,a-b.length)+b:this},String.prototype.StripTags=function(){return this.replace(/<[^>]+>/g,"")},String.prototype.StripScripts=function(){return this.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")},String.prototype.EscapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},String.prototype.UnescapeHTML=function(){return this.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&#([\d]+);/g,function(a,b){return String.fromCharCode(parseInt(b,10))})},String.prototype.Pad=function(a,b,c,d){var e=this.toString(d||10);for(b=b||"0";e.length<a;)c?e+=b:e=b+e;return e},b.Format=function(a,b){var c=Array.prototype.slice.call(arguments,1);return a.replace(/\\?\#{([^{}]+)\}/gm,function(a,d){if("\\"===a.charAt(0))return a.slice(1);var e=Number(d);return e>=0?c[e]:b&&void 0!==b[d]?b[d]:""})},String.prototype.Trim=function(){for(var a=" \n\r	\f            ​\u2028\u2029　",b=this,c=0;c<b.length;c++)if(-1===a.indexOf(b.charAt(c))){b=b.substring(c);break}for(c=b.length-1;c>=0;c--)if(-1===a.indexOf(b.charAt(c))){b=b.substring(0,c+1);break}return-1===a.indexOf(b.charAt(0))?b:""},Array.prototype.IndexOf=function(a,b){var c=this.length,d=~~b;for(0>d&&(d+=c);c>d;d++)if(this[d]===a)return d;return-1},Array.prototype.Contains=function(a){return this.indexOf(a)>-1},Array.prototype.Unique=function(){var a=[];a:for(var b=0,c=this.length;c>b;b++){for(var d=b+1;c>d;d++)if(this[d]===this[b])continue a;a.push(this[b])}return a},Array.prototype.Pluck=function(a){var b,c=[];return this.forEach(function(d){b=d[a],null!=b&&c.push(b)}),c},Array.prototype.GroupBy=function(a){var b={},c="function"==typeof a?a:function(b){return b[a]};return this.forEach(function(a,d){var e=c(a,d);(b[e]||(b[e]=[])).push(a)}),b},Array.prototype.SortBy=function(a,b){var c=this.map(function(c,d){return{el:c,re:a.cache(b,c,d)}}).sort(function(a,b){var c=a.re,d=b.re;return d>c?-1:c>d?1:0});return c.pluck("el")},Array.prototype.Union=function(a){return this.concat(a).unique()},Array.prototype.Intersect=function(a){return this.filter(function(b){return~a.indexOf(b)})},Array.prototype.Diff=function(a){for(var b=this.slice(),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)if(b[c]===a[d]){b.splice(c,1),c--;break}return b},Array.prototype.Min=function(){return Math.min.apply(0,this)},Array.prototype.Max=function(){return Math.max.apply(0,this)},"1"!==parseFloat(.9).toFixed(0)&&(Number.prototype.ToFixed=function(a){var b=Math.pow(10,a),c=(Math.round(this*b)/b).toString();if(0===a)return c;c.indexOf(".")<0&&(c+=".");for(var d=a+1-(c.length-c.indexOf(".")),e=0;d>e;e++)c+="0";return c}),Date.prototype.AddDays=function(a){var b=new Date(this);return b.setDate(this.getDate()+a),b},Date.prototype.AddWeeks=function(a){return this.addDays(7*a)},Date.prototype.AddMonths=function(a){var b=new Date(this),c=this.getDate();return b.setMonth(this.getMonth()+a),b.getDate()<c&&b.setDate(0),b},Date.prototype.AddYears=function(a){var b=new Date(this),c=this.getMonth();return b.setFullYear(this.getFullYear()+a),c<b.getMonth()&&b.setDate(0),b},Date.prototype.Compare=function(a){var b=this-a;return 0===b?0:0>b?-1:1},Date.prototype.GetDatePeriod=function(a){return Math.abs(1*this-1*a)/60/60/1e3/24},Date.prototype.GetFirstDateInQuarter=function(){return new Date(this.getFullYear(),3*~~(this.getMonth()/3),1)},Date.prototype.GetLastDateInQuarter=function(){return new Date(this.getFullYear(),3*~~(this.getMonth()/3)+3,0)},Date.prototype.IsLeapYear=function(){return 29===new Date(this.getFullYear(),2,0).getDate()},Date.prototype.Date=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())},Date.prototype.GetDaysInMonth=function(){switch(this.getMonth()){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:var a=this.getFullYear();return a%4===0&&a%100!==0||a%400===0?29:28;default:return 30}},Function.prototype.Bind=function(a){if(arguments.length<2&&void 0===a)return this;var b=this,c=[].slice.call(arguments,1);return function(){b.apply(a,c.concat.apply(c,arguments))}},Date.prototype.Format=function(a){function c(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function d(a,b,d,e){return function(f){var g=f["get"+a]();return(d>0||g>-d)&&(g+=d),0===g&&-12===d&&(g=12),c(g,b,e)}}function e(a,b){return function(c,d){var e=c["get"+a](),f=(b?"SHORT"+a:a).toUpperCase();return d[f][e]}}function f(a){var b=-1*a.getTimezoneOffset(),d=b>=0?"+":"";return d+=c(Math[b>0?"floor":"ceil"](b/60),2)+c(Math.abs(b%60),2)}function g(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function h(a){var b=a.match(l);if(b){var c=new Date(0),d=0,e=0,f=b[8]?c.setUTCFullYear:c.setFullYear,g=b[8]?c.setUTCHours:c.setHours;return b[9]&&(d=parseInt(b[9]+b[10]),e=parseInt(b[9]+b[11])),f.call(c,parseInt(b[1]),parseInt(b[2])-1,parseInt(b[3])),g.call(c,parseInt(b[4]||0)-d,parseInt(b[5]||0)-e,parseInt(b[6]||0),parseInt(b[7]||0)),c}return a}var i={yyyy:d("FullYear",4),yy:d("FullYear",2,0,!0),y:d("FullYear",1),MMMM:e("Month"),MMM:e("Month",!0),MM:d("Month",2,1),M:d("Month",1,1),dd:d("Date",2),d:d("Date",1),HH:d("Hours",2),H:d("Hours",1),hh:d("Hours",2,-12),h:d("Hours",1,-12),mm:d("Minutes",2),m:d("Minutes",1),ss:d("Seconds",2),s:d("Seconds",1),sss:d("Milliseconds",3),EEEE:e("Day"),EEE:e("Day",!0),a:g,Z:f},j=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,k=/^\d+$/,l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c){var d,e,f=this,g="",l=[];if(c=c||"mediumDate",c=a[c]||c,"string"==typeof f&&(f=k.test(f)?parseInt(f):h(f)),"Number"===b.Type(f)&&(f=new Date(f)),"Date"===b.Type(f)){for(;c;)e=j.exec(c),e?(l=l.concat(e.slice(1)),c=l.pop()):(l.push(c),c=null);return l.forEach(function(b){d=i[b],g+=d?d(f,a):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}}({AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},SHORTMONTH:{0:"一月",1:"二月",2:"三月",3:"四月",4:"五月",5:"六月",6:"七月",7:"八月",8:"九月",9:"十月",10:"十一月",11:"十二月"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d ah:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"ah:mm:ss","short":"yy-M-d ah:mm",shortDate:"yyyy-MM-dd",shortTime:"hh:mm"}),b.LoadScript=function(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.body.appendChild(b)},b.LoadStyle=function(a){var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.href=a;document.getElementsByTagName("head")[0];document.body.appendChild(b)},b.Type=function(a){return null===a?"Null":void 0===a?"Undefined":Object.prototype.toString.call(a).slice(8,-1)},b.GetUrlParam=function(){var a=location.search.length>0?location.search.substring(1):"",b={},c=a.length?a.split("&"):[],d=null,e=null,f=null,g=0,h=c.length;for(g=0;h>g;g++)d=c[g].split("="),e=decodeURIComponent(d[0]),f=decodeURIComponent(d[1]),e.length&&(b[e]=f);return b},b.CookieUtil={get:function(a){var b=encodeURIComponent(a)+"=",c=document.cookie.indexOf(b),d=null;if(c>-1){var e=document.cookie.indexOf(";",c);-1===e&&(e=document.cookie.length),d=decodeURIComponent(document.cookie.substring(c+b.length,e))}return d},set:function(a,b,c,d,e,f){var g=encodeURIComponent(a)+"="+encodeURIComponent(b);c instanceof Date&&(g+="; expries="+c.toGMTString()),d&&(g+="; path="+d),e&&(g+="; domain="+e),f&&(g+="; secure"),document.cookie=g},del:function(a){var b=new Date;b.setTime(b.getTime()-1e4),document.cookie=a+"=; expires="+b.toGMTString()}},b.AlertInfo=function(a,c){var d,e;arguments.length>2?(d=arguments[1]||function(){},e=arguments[2]||function(){}):d=c;var f=function(){var a=document.getElementById("_shegnyan_modal");a.parentNode.removeChild(a),document.body.style.overflowY="scroll"},g=function(){f(),d&&d()},h=function(){f(),e&&e()},i=b.Format("<div class='modalDiv' style='width: 350px; height: 200px;'>                                   <h1 class='title_1'><span>系统提示</span></h1>                                    <div class='pop' style='min-width: inherit;'>                                        <div class='con_box' style='padding-bottom: 1px;'>                                            <form>                                                <ul>                                                    <li class='notice'>#{0}</li>                                                </ul>                                                <div class='btn_area_c'>                                                      <a id='_shengyan_ok' href='javascript:void(0)' style='margin-right: 20px;' class='btn_2'><span>确认</span></a>                                             #{1}                                                </div>                                            </form>                                        </div>                                    </div>                         </div>",a,e?"<a id='_shengyan_cancer' href='javascript:void(0)' class='btn_1'><span>取消</span></a>":""),j=document.createElement("div");j.id="_shegnyan_modal",j.classList.add("modal_bg"),j.classList.add("modal_bg2"),j.innerHTML=i,document.body.appendChild(j),document.body.style.overflowY="hidden",document.getElementById("_shengyan_ok").onclick=g;var k=document.getElementById("_shengyan_cancer");k&&(k.onclick=h)},b.ComfirmInfo=function(a,c,d){b.AlertInfo(a,c,d)},a.shengyan=b}(window);var Verification=function(){function a(a,b,c,d){a.onkeyup=function(){this.value=this.value.replace(/\D/g,"")},a.onkeydown=function(a,b,c){return function(){var d=event.keyCode||event.charCode;if(!(d>=48&&57>=d||8===d||d>=96&&105>=d))return c&&(86===d&&event.ctrlKey||17===d||67===d)?!0:!1;if(d>=48){var e=0;57>=d?e=d-48:105>=d&&(e=d-96),b||"0"===this.value&&(this.value="");var f=parseInt(this.value.toString()+e);if(a&&f>a)return!1}return!0}}(b,c,d),d||a.setAttribute("onpaste","return false")}function b(a){a.onkeydown=function(){var a=event.keyCode||event.charCode;if(!(a>=48&&57>=a||8===a||110===a||190===a||a>=96&&105>=a))return!1;if(("."===this.value||"0.00"===this.value)&&(this.value=""),110===a||190===a){if(0===this.value.Trim().length)return!1;if(this.value.indexOf(".")>0)return!1}else"0"===this.value&&(this.value="");return!0},a.onkeyup=function(){this.value=this.value.replace(/[^\d.]/g,"")},a.setAttribute("onpaste","return false"),a.addEventListener("blur",function(){(""===this.value||"."===this.value||"0"===this.value)&&(this.value="0.00")},!1)}function c(a){return a=a.Trim(),11!==a.length?!1:isNaN(a)?!1:"1"!==a.substring(0,1)?!1:!0}function d(a){var b=/\d{7,12}$/;return b.test(a.Trim())}function e(a){return c(a)||d(a)}function f(a,b,c,d){this.name=a?a.Trim():"",this.text=b?b.Trim():"",this.noNull=c||null,this.maxLength=d||null}return f.prototype.GetLenth=function(){return this.text.replace(/[^\x00-\xff]/g,"**").length},f.prototype.NoSafetyText=function(){if(this.text!==this.text.StripTags().StripScripts())return this.name+"有非法字符！";var a=this.GetLenth();return this.noNull&&0===a?this.name+"不能为空！":this.maxLength&&a>this.maxLength?this.name+"长度不能大于"+this.maxLength+"个字符！":null},f.prototype.Course=function(){},f.prototype.Execute=function(){return this.NoSafetyText()||this.Course()},{BindnumberInput:a,InputPeople:function(b){a(document.getElementById(b),9999)},InputTelephone:function(b){var c=document.getElementById(b);c.setAttribute("maxlength","12"),a(c,void 0,!0,!0)},InputTelephone2:function(b){b.setAttribute("maxlength","12"),a(b,void 0,!0,!0)},ValidTelephone:function(a){var b=new f("联系方式",a,!0);return b.Course=function(){return e(b.text)?void 0:"联系方式格式不正确！"},b.Execute()},ValidCustomerName:function(a){var b=new f("姓名",a,!0,20);return b.Execute()},ValidCustomerUnit:function(a){var b=new f("单位",a,!1,40);return b.Execute()},InputDeposit:function(b){a(document.getElementById(b),999999)},ValidRequirement:function(a){var b=new f("备注",a,!1,50);return b.Execute()},InputSequence:function(b){a(b,999999)},ValidPassWord:function(a){if(!a)return"密码不能为空！（长度6-20个字符  支持数字、大小写字母和标点符号  不允许有空格）";if(a.length<6)return"密码强度不够！（长度6-20个字符  支持数字、大小写字母和标点符号  不允许有空格）";var b=/^\S+$/gi;return b.test(a)?a.length>20?"密码长度太长！（长度6-20个字符  支持数字、大小写字母和标点符号  不允许有空格）":null:"密码不能有空格！（长度6-20个字符  支持数字、大小写字母和标点符号  不允许有空格）"},ValidMarketingContent:function(a){var b=new f("方案内容",a,!0,160);return b.Execute()},InputRecOrderDays:function(b){a(document.getElementById(b),999)},InputTotalOrders:function(b){a(document.getElementById(b),999)},InputSpend:function(a){b(document.getElementById(a))},InputSpend2:function(a){b(a)},ValidSpend:function(a){var b=new f("消费金额",a);return b.Course=function(){return isNaN(b.text)?b.name+"格式不正确！":parseInt(b.text)>999999?b.name+"不能大于6位数！":null},b.Execute()},ValidUserName:function(a){if(0===a.Trim().length)return"用户名不能为空！";var b=/^[a-zA-z0-9]\w{3,19}$/;return b.test(a)?null:"用户名格式不正确！(格式 A-Z a-z _ 0-9  4-20位)"},ValidImageCode:function(a){var b=new f("验证码",a,!0);return b.Course=function(){return 5!==this.GetLenth()?b.name+"格式不正确（五位）！":null},b.Execute()},InputPhoneCode:function(b){a(document.getElementById(b),9999,!0)},ValidPhoneCode:function(a){var b=new f("手机验证码",a,!0);return b.Course=function(){return 4!==this.GetLenth()?b.name+"格式不正确！(4为数字)":null},b.Execute()},ValidPosition:function(a){var b=new f("职位",a,!1,20);return b.Execute()},ValidAreaName:function(a){var b=new f("餐厅区域",a,!0,20);return b.Execute()},ValidDeskName:function(a){var b=new f("桌位名称",a,!0,20);return b.Execute()},ValidPeopleMaxOrMin:function(a,b){return"Undefined"===shengyan.Type(a)||""===a?"请输入上线人数！":"Undefined"===shengyan.Type(b)||""===b?"请输入下线人数！":parseInt(b)<parseInt(a)?"上线人数不能小于下线人数！":null},ValidDeskRemark:function(a){var b=new f("餐厅说明",a,!1,50);return b.Execute()},InputDeskBalance:function(b){a(document.getElementById(b),9999)},InputDiningRoomArea:function(b){a(document.getElementById(b),9999)},InputAverageSpendBegin:function(b){a(document.getElementById(b),9999)},InputAverageSpendEnd:function(b){a(document.getElementById(b),9999)},ValidTheBus:function(a){var b=new f("交通指引",a,!1,120);return b.Execute()},ValidDeskMpName:function(a){var b=new f("公共号名称",a,!0,20);return b.Execute()},ValidDeskMpId:function(a){var b=new f("公众号原始id",a,!0,20);return b.Execute()},ValidDeskWeiXinId:function(a){var b=new f("微信号",a,!0,20);return b.Execute()},ValidDeskAppId:function(a){var b=new f("AppID",a,!0,50);return b.Execute()},ValidDeskAppSecret:function(a){var b=new f("AppSecret",a,!0,50);return b.Execute()},ValidDeskMaterialContent:function(a){var b=new f("文本自动回复",a,!0,2e3);return b.Execute()},ValidDeskMaterialTitle:function(a){var b=new f("标题",a,!0,100);return b.Execute()},ValidDeskMaterialIntroduction:function(a){var b=new f("内容简介",a,!1,1e3);return b.Execute()},ValidDeskMaterialDetail:function(a){var b=new f("全文详情",a);return b.GetLenth()>2e3?"全文详情长度不能大于2000个字符！":null},ValidNameOrPhone:function(a){var b=new f("姓名或手机",a,!1,20);return b.Execute()},ValidAddress:function(a){var b=new f("现住址",a,!1,50);return b.Execute()},ValidLike:function(a){var b=new f("喜好",a,!0,20);return b.Execute()},ValidIntolerance:function(a){var b=new f("忌口",a,!0,20);return b.Execute()},ValidBadRecord:function(a){var b=new f("不良记录",a,!1,100);return b.Execute()},ValidSmsContent:function(a){var b=new f("短信",a,!1,160);return b.Execute()},ValidMemoContent:function(a){var b=new f("备忘录",a,!1,50);return b.Execute()},InputActiveDays:function(b){a(document.getElementById(b),365)},ValidActiveDays:function(a){return 0===a.Trim().length?"活跃会员天数不能为空！":parseInt(a)<31?"活跃会员天数必须大于等于31天！":null},InputSleepDays:function(b){a(document.getElementById(b))},ValidSleepDays:function(a,b){return 0===b.Trim().length?"沉睡会员天数不能为空！":0===parseInt(b)||parseInt(b)>2*parseInt(a)?"沉睡会员结束天数必须小于等于活跃会员天数*2且大于0":null},ValidClassificationName:function(a){var b=new f("分类名称",a,!0,20);return b.Execute()},InputAccountAmount:function(b){a(document.getElementById(b),99999)},ValidAccountAmount:function(a){return 0===(a||"").Trim().length?"请输入金额！":parseInt(a)<100||parseInt(a)>99999?"充值金额不能低于100元！":null},InputPhone:function(b){var c=document.getElementById(b);c.setAttribute("maxlength","11"),a(c,void 0,!0,!0)},ValidPhone:function(a){return a=(a||"").Trim(),""===a?"请输入手机号！":c(a)}}}();